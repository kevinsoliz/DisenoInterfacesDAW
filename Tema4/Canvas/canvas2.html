<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Pong Simple</title>
  <style>
    body {
      margin: 0;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      background: #222;
      border: 2px solid white;
    }
  </style>
</head>
<body>
<canvas id="game" width="500" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// Pelota
let x = canvas.width / 2;
let y = canvas.height / 2;
let dx = 3;
let dy = 3;
let ballSize = 10;

// Paleta
const paddleWidth = 80;
const paddleHeight = 12;
let paddleX = (canvas.width - paddleWidth) / 2;

// Control con el mouse
canvas.addEventListener("mousemove", (e) => {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  paddleX = mouseX - paddleWidth / 2;
});

function drawBall() {
  ctx.beginPath();
  ctx.arc(x, y, ballSize, 0, Math.PI * 2);
  ctx.fillStyle = "white";
  ctx.fill();
  ctx.closePath();
}

function drawPaddle() {
  ctx.fillStyle = "white";
  ctx.fillRect(paddleX, canvas.height - paddleHeight - 10, paddleWidth, paddleHeight);
}

function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  drawBall();
  drawPaddle();

  // Movimiento pelota
  x += dx;
  y += dy;

  // Rebote paredes
  if (x + ballSize > canvas.width || x - ballSize < 0) dx = -dx;
  if (y - ballSize < 0) dy = -dy;

  // Colisión con paleta
  const paddleY = canvas.height - paddleHeight - 10;
  if (
    y + ballSize > paddleY &&
    x > paddleX &&
    x < paddleX + paddleWidth
  ) {
    dy = -dy;
  }

  // Si la pelota cae → reinicio
  if (y > canvas.height) {
    x = canvas.width / 2;
    y = canvas.height / 2;
  }

  requestAnimationFrame(update);
}

update();
</script>
</body>
</html>
